<link href="~/Content/header.css" rel="stylesheet" type="text/css" />

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<header class="cps-header">
    <nav class="cps-navbar">
        <div class="cps-navbar__box-main affix" data-spy="affix">
            <div class="cps-container">
                <div class="box-logo">
                    <a href="@Url.Action("Index","Home")" title="CellPhoneX">
                        <img src="~/Content/images/logo.png" />
                    </a>
                </div>
                <form class="form-box-search" style="margin-left:5rem">
                    <div class="box-search">
                        <div class="cps-group-input">
                            <div class="input-group-btn">
                                @* <i class="fas fa-search"></i>*@
                                <svg viewBox="64 64 896 896" focusable="false" data-icon="search" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"></path></svg>
                            </div>
                            <input type="text" name="q" id="search" class="cps-input cta-search" placeholder="Bạn cần tìm gì?" maxlength="128" autocomplete="off" />
                        </div>
                    </div>
                </form>
                <div class="box-about">
                    <a href="#" class="item-about about-1 about-delivery-tracking cta-tra-cuu-dh">
                        <div class="about__box-icon">
                            <img />
                            <svg xmlns="http://www.w3.org/2000/svg" color="white" width="30" height="16" fill="currentColor" class="bi bi-receipt" viewBox="0 0 16 16">
                                <path d="M1.92.506a.5.5 0 0 1 .434.14L3 1.293l.646-.647a.5.5 0 0 1 .708 0L5 1.293l.646-.647a.5.5 0 0 1 .708 0L7 1.293l.646-.647a.5.5 0 0 1 .708 0L9 1.293l.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .801.13l.5 1A.5.5 0 0 1 15 2v12a.5.5 0 0 1-.053.224l-.5 1a.5.5 0 0 1-.8.13L13 14.707l-.646.647a.5.5 0 0 1-.708 0L11 14.707l-.646.647a.5.5 0 0 1-.708 0L9 14.707l-.646.647a.5.5 0 0 1-.708 0L7 14.707l-.646.647a.5.5 0 0 1-.708 0L5 14.707l-.646.647a.5.5 0 0 1-.708 0L3 14.707l-.646.647a.5.5 0 0 1-.801-.13l-.5-1A.5.5 0 0 1 1 14V2a.5.5 0 0 1 .053-.224l.5-1a.5.5 0 0 1 .367-.27zm.217 1.338L2 2.118v11.764l.137.274.51-.51a.5.5 0 0 1 .707 0l.646.647.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.509.509.137-.274V2.118l-.137-.274-.51.51a.5.5 0 0 1-.707 0L12 1.707l-.646.647a.5.5 0 0 1-.708 0L10 1.707l-.646.647a.5.5 0 0 1-.708 0L8 1.707l-.646.647a.5.5 0 0 1-.708 0L6 1.707l-.646.647a.5.5 0 0 1-.708 0L4 1.707l-.646.647a.5.5 0 0 1-.708 0l-.509-.51z" />
                                <path d="M3 4.5a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm8-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5z" />
                            </svg>
                        </div>

                        <div class="about__box-content">
                            <p class="mb-0 title">
                                Tra cứu
                                <br />
                                đơn hàng
                            </p>
                        </div>
                    </a>
                    <a href="@Url.Action("GioHang","GioHang")" class="item-about about-2 about-delivery-tracking gio-hang">
                        <div class="about__box-icon" style="height: 100%">
                            <img />
                            <svg style="height:100%" xmlns="http://www.w3.org/2000/svg" color="white" width="30" height="16" fill="currentColor" class="bi bi-cart" viewBox="0 0 16 16">
                                <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
                            </svg>
                        </div>

                        <div class="about__box-content">
                            <p class="mb-0 title">
                                Giỏ
                                <br />
                                hàng
                            </p>
                            <span id="items-in-cart">@Session["count"]</span>
                        </div>
                    </a>
                    @if (Session["TaiKhoan"] == null)
                    {
                <a href="@Url.Action("SignIn","User")" class="item-about about-3 about-delivery-tracking tai-khoan">

                    <div class="about__box-icon">
                        <img />
                        <svg xmlns="http://www.w3.org/2000/svg" color="white" width="30" height="16" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
                            <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z" />
                        </svg>
                    </div>
                    <div class="about__box-content">
                        <p class="mb-0 title">
                            Tài
                            <br />
                            Khoản
                        </p>
                    </div>

                </a> }
                            else
                            {
                                <a href="@Url.Action("Cus","Home")" class="item-about about-3 about-delivery-tracking tai-khoan">

                                    <div class="about__box-icon">
                                        <img />
                                        <svg xmlns="http://www.w3.org/2000/svg" color="white" width="30" height="16" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
                                            <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z" />
                                        </svg>
                                    </div>
                                    <div class="about__box-content">
                                        <p class="mb-0 title">
                                            Tài
                                            <br />
                                            Khoản
                                        </p>
                                    </div>

                                </a>
                            }


                </div>
            </div>
        </div>
        <div class="clear">

        </div>
        <div id="overlay"></div>

    </nav>
</header>
<!--<div class="header">
    <section id="menu">

        <div class="logo">
            <img src="~/Content/images/logo.png" />
        </div>

        <form class="form-search">
            <div class="search-bar">
                <i class="fa fa-search"></i>
                <input type="search" class="form-control" placeholder="Bạn cần tìm gì?">
            </div>
            <div class="search-box">-->
@*<ul>
        <li>
            <a>
                <div class="phone-image"></div>
                <div class="phone-info">
                    <div class="phone-name"></div>
                    <div class="phone-price"></div>
                </div>
            </a>
        </li>
    </ul>*@
<!--</div>
        </form>

        <div id="overlay"></div>

        <div class="navbar-menu">
            <ul>
                <li>@Html.ActionLink("Trang chủ", "Index", "Home")</li>
                <li>@Html.ActionLink("Sản phẩm", "About", "Home")</li>
                <li>@Html.ActionLink("Tài khoản", "Contact", "Home")</li>
            </ul>
        </div>
    </section>
</div>-->

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
@*<link href="~/Content/header.css" type="text/css" rel="stylesheet" />*@
<script>

    $(".cps-input").click(function () {
        $('#overlay').css({display: "block"});
    })

    $('#overlay').click(function () {
        $('#overlay').css({display: "none" });
    })

    $(".cps-input").blur(function () {
        $(".suggestBox").remove()
        $("#search").val("");
    })

    $(".cps-input").keyup(function () {
        var strKey = $(".cps-input").val();
        GetPhone(strKey);

        function GetPhone(strKey) {
            function GetValue(str, data) {
                var a = ""
                $.each(data, function (k, val) {
                    a = val[`${str}`]
                })
                return a;
            }

            $.ajax(
                {
                    type: "POST",
                    url: "/Product/SearchPhone",
                    data: "{keyword: '" + strKey + "'}",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json"
                }).done(function (data) {
                    $(".suggestBox").remove()
                    $("<div></div>").addClass("suggestBox").appendTo(".form-box-search")
                    $("<ul></ul>").addClass("data-box").appendTo(".suggestBox")
                    $.each(data, function (index, item) {
                        $("<li></li>").append(
                            $("<a></a>").attr("href", "#").append(
                                $("<div></div>").addClass("phone-image").append(
                                    $("<img/>").attr("src", "/Content/images/" + GetValue("image", item))
                                ),
                                $("<div></div>").addClass("phone-info").append(
                                    $("<div></div>").addClass("phone-name").append(GetValue("phone_name", item)),
                                    $("<div></div>").addClass("phone-price").append(
                                        $("<div></div>").addClass("specialprice").append(GetValue("special_price", item) + " đ"),
                                        $("<del></del>").addClass("price").append(GetValue("price", item) + " đ")
                                    )
                                )
                            )
                        ).appendTo(".data-box")
                    })
                }).fail(function () {
                    $(".suggestBox").remove()
                    $("#search").val("");
                    @*$.each(data, function (i, item) {
                        console.log(GetValue("price", item))
                    })*@
                });
        }

    })
</script>
